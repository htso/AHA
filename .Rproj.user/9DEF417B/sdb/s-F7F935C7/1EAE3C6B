{
    "contents" : "\n\n\nlibrary(Rcpp)\n\ndat_dir = \"/home/rspace/RepulseBay/DATA/CIFAR/cifar10\"\nsetwd(dat_dir)\ntmp = readCifar10(dat_dir)\ndat = prepare_Cifar10(tmp) \n\nhome_dir = \"/home/rspace/RepulseBay/Rhome/CoatesHonglakNg/AHA\"\nsetwd(home_dir)\nsourceCpp(\"Cpp-scripts/Cpp-for-Conv105.cpp\")\n\ntrainset = dat[[\"train\"]]\ntestset = dat[[\"test\"]]\nlbl.train = dat[[\"lbl.tr\"]]\nlbl.test = dat[[\"lbl.tt\"]]\n\nw = 6\nstride = 1\nK = 100\nN_patches = 10000\nrseed = 1701\n\nsystem.time(learner <- create_kmeans_learner(data=trainset, K=K, N_patches=N_patches, w=w, stride=stride, rseed=rseed, verbose=verbose))\n\nsystem.time(train_features <- extract_features(trainset, w, stride, learner, 0))\n\nsystem.time(res <- train_by_kmeans(trainset, lbl.train, train_features, C.heur=NULL, svm.type=2, verbose=FALSE))\n\nsystem.time(test.features <- extract_features(testset, w, stride, learner, 0))\n\nscale.f = res[[\"scale.f\"]]\ntfea.norm <- applyScaling2Mat(test.features, scale.f, 2)\n\ndatt = tfea.norm[[\"data.s\"]]\nmod = res[[\"lsvm\"]]\npred = predict_svm(mod, datt)\n\ncalc_accuracy(pred, lbl.test)\n\ntable(pred, lbl.test)\n\n\n\n\n\n\n\n\n",
    "created" : 1457669752771.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3035496439",
    "id" : "1EAE3C6B",
    "lastKnownWriteTime" : 1457669324,
    "path" : "~/RepulseBay/Rhome/CoatesHonglakNg/runscript1.R",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}